angular.module("globalVariablesApp",["ngRoute","App.Utils","ngSanitize","ui.select","datetime"]).run(function(n,t){t.tables={};t.variables=[{Key:"Language",Text:"Language",Selected:!0},{Key:"State",Text:"State"},{Key:"City",Text:"City"},{Key:"IcType",Text:"ID Number Type"},{Key:"Title",Text:"Title"},{Key:"VehType",Text:"Vehicle Type"},{Key:"SaleTerritory",Text:"Sale Territory"},{Key:"AcctOfficeCd",Text:"Pukal AG Code"},{Key:"ProdCategory",Text:"Product Category"},{Key:"ProdType",Text:"Product Type"}];t.selectedObj=t.variables[0];t.subMenuSelected=function(n){t.variables.forEach(function(n){n.Selected=!1});var i=t.variables.indexOf(n);t.variables[i].Selected=!0;t.selectedObj=t.variables[i];t.$broadcast("menuSelected",n)};t.$on("$routeChangeStart",function(n,i){t.$broadcast("routeChanged",i.pageKey)})}).factory("Api",function(n,t){var i=t.getRootUrl()+"/GlobalVariables",r=function(){return n({method:"GET",url:ApiRef})};return getFormData=function(t,r){var u=r||i;return n({method:"GET",url:u+"/FillData?"+$.param(t)})},getStates=function(t,r){var u=r||i;return n({method:"GET",url:u+"/GetStates?"+$.param(t)})},WebRefSelect=function(t,r){var u=r||i;return n({method:"GET",url:u+"/WebRefSelect?"+$.param(t)})},WebRefMaint=function(t,r){var u=r||i;return n({method:"POST",url:u+"/WebRefMaint",data:t})},WebProdGroupRefSelect=function(t,r){var u=r||i;return n({method:"GET",url:u+"/WebProdGroupRefSelect?"+$.param(t)})},WebProdRefSelect=function(t,r){var u=r||i;return n({method:"GET",url:u+"/WebProdRefSelect?"+$.param(t)})},WebProdRefMaint=function(t,r){var u=r||i;return n({method:"POST",url:u+"/WebProdRefMaint",data:t})},WebProdGroupRefMaint=function(t,r){var u=r||i;return n({method:"POST",url:u+"/WebProdGroupRefMaint",data:t})},WebRebatePlanSelect=function(t,r){var u=r||i;return n({method:"GET",url:u+"/WebRebatePlanSelect?"+$.param(t)})},WebRebatePlanMaint=function(t,r){var u=r||i;return n({method:"POST",url:u+"/WebRebatePlanMaint",data:t})},WebEventTypeSelect=function(t,r){var u=r||i;return n({method:"GET",url:u+"/WebEventTypeSelect"})},WebEventTypeMaint=function(t,r){var u=r||i;return n({method:"POST",url:u+"/WebEventTypeMaint",data:t})},WebEventTypeTemplateSelect=function(t,r){var u=r||i;return n({method:"GET",url:u+"/WebEventTypeTemplateSelect?"+$.param(t)})},{selectData:r,getFormData:getFormData,GetStates:getStates,WebRefSelect:WebRefSelect,WebRefMaint:WebRefMaint,WebProdGroupRefSelect:WebProdGroupRefSelect,WebProdRefSelect:WebProdRefSelect,WebProdRefMaint:WebProdRefMaint,WebProdGroupRefMaint:WebProdGroupRefMaint,WebRebatePlanSelect:WebRebatePlanSelect,WebRebatePlanMaint:WebRebatePlanMaint,WebEventTypeSelect:WebEventTypeSelect,WebEventTypeMaint:WebEventTypeMaint,WebEventTypeTemplateSelect:WebEventTypeTemplateSelect}}).config(function(n){var t=$("#hdUrlPrefix").val();n.when("/",{templateUrl:t+"/GlobalVariables/Tmpl?Prefix=lup&type=Index",controller:"globalParamsController",pageKey:"hash"});n.when("/productGroup",{templateUrl:t+"/GlobalVariables/Tmpl?Prefix=pdt&type=Index",controller:"productGroupController",pageKey:"productGroup"}).when("/productList",{templateUrl:t+"/GlobalVariables/Tmpl?Prefix=pdt&type=Index&BehaveAsPrefix=pdl",controller:"productListController",pageKey:"productList"}).when("/productList/:prdId",{templateUrl:t+"/GlobalVariables/Tmpl?Prefix=pdt&type=Index&BehaveAsPrefix=pdl",controller:"productListController",pageKey:"productList"}).when("/rebatePlan",{templateUrl:t+"/GlobalVariables/Tmpl?Prefix=rbp&type=Index",controller:"rebatePlanController",pageKey:"rebatePlan"}).when("/eventTypeList",{controller:"eventTypeListController",templateUrl:t+"/GlobalVariables/Tmpl?Prefix=evt&type=Index",pageKey:"eventList"}).when("/eventDetails/:id",{controller:"eventDetailController",templateUrl:t+"/GlobalVariables/Tmpl?Prefix=evt&type=Index&BehaveAsPrefix=evt_dtl",pageKey:"eventList"})}).controller("globalParamsController",function(n,t,i,r,u,f){n.modalOpen=!1;n.editMode=!1;n.dtOptions={serverSide:!0,processing:!0,destroy:!0,scrollX:!0,id:"tblMain",ajax:u.getRootUrl()+"/GlobalVariables/WebRefListSelect?refType=Language",edit:{level:"scope",func:"indexSelected"}};t.getFormData({Code:"lp"}).success(function(t){n._Object=t.Model;n._Selects=t.Selects;n.buttonPermissions=t.buttonPermissions;_.each(u.variables,function(){})});n.modalClick=function(){var t=u.selectedObj;t.Key=="State";n.editMode=!1;n.modalOpen=!0;f.makeObjectNull(n._Object,{})};u.$on("indexSelected",function(i,r){n.editMode=!0;var e=u.selectedObj,f={};f.refType=e.Key;e.Key=="State"?(f.RefNo=r[3],f.RefCd=r[1]):f.RefCd=e.Key=="City"?r[2]:r[0];t.WebRefSelect(f).success(function(t){console.log(t);n.modalOpen=!0;angular.extend(n._Object,t);e.Key=="City"&&n.CountryChanged(n._Object.Country)});console.log(r)});n.$on("menuSelected",function(t,r){var f={};f.ajax=u.getRootUrl()+"/GlobalVariables/WebRefListSelect?refType="+r.Key;f.aoColumnDefs=[{bVisible:r.Key!="State",aTargets:[3]}];i(function(){var t=angular.extend(n.dtOptions,f)})});n.CountryChanged=function(i,r){t.GetStates({CountryCd:r}).success(function(t){n._Selects.States=t})};n.refresh=function(){u.tables[n.dtOptions.id].fnDraw()};n.saveChanges=function(){var i=u.selectedObj.Key,r={type:i};angular.extend(n._Object,{type:i,flag:n.editMode?"U":"C"});f.InfoNotify();t.WebRefMaint(n._Object).success(function(t){f.finalResultNotify(t);t.flag==0&&(u.tables[n.dtOptions.id].fnDraw(),n.modalOpen=!1)})}}).controller("productGroupController",function(n,t,i,r,u,f){n.detailModalOpen=!1;n.groupModalOpen=!1;n.deleteModalOpen=!1;n.selectedProdGroup=null;n.isEditMode=!1;n.flag=null;n.Items=[];n.ProductGroupItems=[];n.selectedProdName=null;n.selectedItem=null;t.getFormData({Code:"pg"}).success(function(t){n._Object=t.Model;n._Selects=t.Selects});n.prodGroupItems=[];n.dtOptions={serverSide:!0,processing:!0,destroy:!0,scrollX:!0,pageLength:3e3,id:"tblProductGroup",ajax:u.getRootUrl()+"/GlobalVariables/WebProdGroupRefListSelect",edit:{level:"scope",func:"indexSelected"},aoColumnDefs:[{sClass:"detail-toggler",aTargets:[0]},],childTable:{format:function(t){var i=_.filter(n.aaData,function(n){return n[1]==t[1]});n.selectedProdName=t[2];var r=_.map(i,function(n){return"<tr ng-click=\"detailModalOpen=true\"><td style='background-color:#F8F9FA'>"+n[5]+"<\/td><td style='background-color:#F8F9FA'>"+n[6]+"<\/td><td style='background-color:#F8F9FA'>"+n[7]+"<\/td><td style='background-color:#F8F9FA'>"+n[8]+"<\/td><\/tr>"}),u='<table class="table childtable"><thead><tr><th>Product Code<\/th><th>Product Name<\/th><th>Product Category<\/th><th>Product Type<\/th><\/tr><\/thead><tbody>'+r.join("")+"<\/tbody><\/table>";return n.selectedProdGroup=t[1],"<tr class='dynamic-created'><td style='border-top:0' colspan='16'>"+u+"<\/td><\/tr>"},sum:function(n){return _.reduce(n,function(n,t){return n+parseFloat(t[9])},0)},edit:{level:"format",func:function(i){n.detailModalOpen=!0;n.$apply();t.WebProdRefSelect({ProdCd:i[0]}).success(function(t){n.Items=[];_.each(t,function(t){n.Items.push({UnitPrice:t.UnitPrice,EffectiveFrom:t.EffectiveFrom,ExpiryDate:t.ExpiryDate,LastUpdated:t.LastUpdated,UserId:t.UserId,isEdit:!1,ProdId:t.ProdId})});n._Object=t[0];n._Object.ProductName=n.selectedProdName;n._Object.flag="U";n.isEditMode=!0})}},fngroupOp:function(t,i,r){n.$apply(function(){n.date=new Date;n.aaData=r.aaData});var u=[];_.each(r.aaData,function(n){if(u.length){var t=_.find(u,function(t){return t[1]==n[1]});t||u.push(n)}else u.push(n)});r.aaData=u}}};n.refresh=function(){u.tables[n.dtOptions.id].fnDraw()};n.$on("indexSelected",function(i,r){n.groupModalOpen=!0;n.isEditMode=!1;n.Items=[];n.ProductGroupItems=[];n._Object={};t.WebProdGroupRefSelect({ProdGroup:r[1]}).success(function(t){n._Object=t[0];_.each(t,function(t){n.ProductGroupItems.push({ProductCode:t.ProductCode,ProductName:t.ProductName,SelectedProductCategory:t.SelectedProductCategory,SelectedProductType:t.SelectedProductType,UnitPrice:t.UnitPrice,isEdit:!1})});n.isEditMode=!0})});n.loadWebProdRefListSelect=function(){n.activeMode="LIST";alert();n.dtWebProdRefListSelect={serverSide:!0,processing:!0,destroy:!0,scrollX:!0,pageLength:3e3,id:"tblProductGroup",ajax:u.getRootUrl()+"/GlobalVariables/WebProdRefListSelect",edit:{level:"scope",func:"indexSelected"}}};n.newProductGroup=function(){n.groupModalOpen=!0;n.isEditMode=!1;n.Items=[];n.ProductGroupItems=[];f.makeObjectNull(n._Object,{})};n.finishEdit=function(n){n.isEdit=!1};n.CreateNewItem=function(){n.Items.push({UnitPrice:null,EffectiveFrom:null,ExpiryDate:null,LastUpdated:null,UserId:null,isEdit:!0,ProdId:null})};n.newProdGroupItem=function(){n.ProductGroupItems.push({ProductCode:null,ProductName:null,SelectedProductCategory:null,SelectedProductType:null,UnitPrice:null,isEdit:!0})};n.removePrompt=function(t){n.deleteModalOpen=!0;n.selectedItem=t};n.removeItem=function(){var t=n.selectedItem;n.ProductGroupItems.splice(n.ProductGroupItems.indexOf(t),1);n.deleteModalOpen=!1};n.saveProductList=function(){var i=n._Object;i.ProductItems=n.Items;f.InfoNotify();t.WebProdRefMaint({_Param:i}).success(function(n){f.finalResultNotify(n)})};n.WebProdGroupRefMaint=function(){var i=!0,r=n._Object,e,o;if(!n.ProductGroupItems.length)return i=!1,f.PNotify({flag:1,Descp:"Atleast one item required to fill"});if(e=_.find(n.ProductGroupItems,function(n){return n.isEdit}),e)return i=!1,f.PNotify({flag:1,Descp:"Please save all items on the list"});if(o=_.find(n.ProductGroupItems,function(n){return n.ProductCode==null}),o)return i=!1,f.PNotify({flag:1,Descp:"Please make sure all product codes are filled"});r.ProductItems=n.ProductGroupItems;f.InfoNotify();t.WebProdGroupRefMaint({param:r}).success(function(t){f.finalResultNotify(t);t.flag==0&&(n.groupModalOpen=!1,u.tables[n.dtOptions.id].fnDraw())})};n.WebProdRefSelect=function(i,r,u){t.WebProdRefSelect({ProdCd:r}).success(function(t){u.ProductName=t[0].ProdDescp;u.SelectedProductCategory=t[0].SelectedProductCategory;var i=_.find(n._Selects.ProductCategory,function(n){return n.Value==t[0].SelectedProductCategory});u.SelectedProductCategory=i?i.Text:t[0].SelectedProductCategory;u.SelectedProductType=t[0].SelectedProductType;u.UnitPrice=t[0].UnitPrice;u.isEdit=!0})}}).controller("productListController",function(n,t,i,r,u,f){n.detailModalOpen=!1;n.Items=[];n.isEditMode=!1;n.flag=null;t.getFormData({Code:"pg"}).success(function(t){n._Object=t.Model;n._Selects=t.Selects});n.dtWebProdRefListSelect={serverSide:!0,processing:!0,destroy:!0,scrollX:!0,pageLength:3e3,id:"tblProductList",ajax:u.getRootUrl()+"/GlobalVariables/WebProdRefListSelect",edit:{level:"scope",func:"indexSelected"}};n.refresh=function(){u.tables[n.dtWebProdRefListSelect.id].fnDraw()};n.newProduct=function(){n.detailModalOpen=!0;n.isEditMode=!1;n.flag="I";n.Items=[];f.makeObjectNull(n._Object,{})};r.prdId&&(n.detailModalOpen=!0,n.flag="U",n.Items=[],t.WebProdRefSelect({ProdCd:r.prdId}).success(function(t){_.each(t,function(t){n.Items.push({UnitPrice:t.UnitPrice,EffectiveFrom:t.EffectiveFrom,ExpiryDate:t.ExpiryDate,LastUpdated:t.LastUpdated,UserId:t.UserId,isEdit:!1,ProdId:t.ProdId})});n._Object=t[0];n.isEditMode=!0}));n.$on("indexSelected",function(i,r){n.detailModalOpen=!0;n.flag="U";n.Items=[];t.WebProdRefSelect({ProdCd:r[0]}).success(function(t){_.each(t,function(t){n.Items.push({UnitPrice:t.UnitPrice,EffectiveFrom:t.EffectiveFrom,ExpiryDate:t.ExpiryDate,LastUpdated:t.LastUpdated,UserId:t.UserId,isEdit:!1,ProdId:t.ProdId})});n._Object=t[0];n.isEditMode=!0})});n.CreateNewItem=function(){n.Items.push({UnitPrice:null,EffectiveFrom:null,ExpiryDate:null,LastUpdated:null,UserId:null,isEdit:!0,ProdId:null})};n.finishEdit=function(n){n.isEdit=!1};n.saveProductList=function(){var r=!1,i=n._Object,e,o;if(i.ProductItems=n.Items,i.flag=n.flag,!i.ProductItems.length)return r=!1,f.PNotify({flag:1,Descp:"Atleast one item required to fill"});if(e=_.find(i.ProductItems,function(n){return n.isEdit}),e)return r=!1,f.PNotify({flag:1,Descp:"Please save all items on the list"});if(o=_.find(i.ProductItems,function(n){return n.UnitPrice==null||n.EffectiveFrom==null||n.ExpiryDate==null}),o)return r=!1,f.PNotify({flag:1,Descp:"Please make sure all product codes are filled"});f.InfoNotify();t.WebProdRefMaint({_Param:i}).success(function(t){f.finalResultNotify(t);t.flag==0&&(n.detailModalOpen=!1,u.tables[n.dtWebProdRefListSelect.id].fnDraw())})};n.removeItem=function(t){n.Items.splice(n.Items.indexOf(t),1)}}).controller("rebatePlanController",function(n,t,i,r,u,f){n.selectedItem=null;n.modalOpen=!1;n.selectedProdGroup=null;n.deleteModalOpen=!1;n.isEditMode=!1;n.flag=null;n.Items=[];n.ProductGroupItems=[];t.getFormData({Code:"rb"}).success(function(t){n._Object=t.Model;n._Selects=t.Selects});n.dtOptions={serverSide:!0,processing:!0,destroy:!0,scrollX:!0,pageLength:3e3,id:"tblRebate",ajax:u.getRootUrl()+"/GlobalVariables/WebRebatePlanListSelect",edit:{level:"scope",func:"indexSelected"},aoColumnDefs:[{sClass:"detail-toggler",aTargets:[0]},],childTable:{format:function(t){var i=_.filter(n.aaData,function(n){return n[1]==t[1]}),r=_.map(i,function(n){var t=parseInt(i.indexOf(n));return"<tr ng-click=\"detailModalOpen=true\"><td style='background-color:#F8F9FA'>"+(t+1)+"<\/td><td style='background-color:#F8F9FA'>"+n[8]+"<\/td><td style='background-color:#F8F9FA'>"+n[9]+"<\/td><td style='background-color:#F8F9FA'>"+n[10]+"<\/td><td style='background-color:#F8F9FA'>"+n[11]+"<\/td><td style='background-color:#F8F9FA'>"+n[12]+"<\/td><\/tr>"}),u='<table class="table childtable"><thead><tr><th>Tier<\/th><th>Tier Value<\/th><th>Basic Value<\/th><th>Billing Value<\/th><th>Update Date<\/th><th>User Id<\/th><\/tr><\/thead><tbody>'+r.join("")+"<\/tbody><\/table>";return n.selectedProdGroup=t[1],"<tr class='dynamic-created'><td style='border-top:0' colspan='16'>"+u+"<\/td><\/tr>"},sum:function(n){return _.reduce(n,function(n,t){return n+parseFloat(t[9])},0)},edit:{level:"format",func:function(i){n.detailModalOpen=!0;n.Items=[];n.$apply();t.WebRebatePlanSelect({PlanId:i[0]}).success(function(t){_.each(t,function(t){n.Items.push({UnitPrice:t.UnitPrice,EffectiveFrom:t.EffectiveFrom,ExpiryDate:t.ExpiryDate,LastUpdated:t.LastUpdated,UserId:t.UserId,isEdit:!1,ProdId:t.ProdId})});n._Object=t[0];n._Object.flag="U";n.isEditMode=!0})}},fngroupOp:function(t,i,r){n.$apply(function(){n.date=new Date;n.aaData=r.aaData});var u=[];_.each(r.aaData,function(n){if(u.length){var t=_.find(u,function(t){return t[1]==n[1]});t||u.push(n)}else u.push(n)});r.aaData=u}}};n.refresh=function(){u.tables[n.dtOptions.id].fnDraw()};n.newPlan=function(){n.modalOpen=!0;n.isEditMode=!1;n._Object.flag="I";n.Items=[];f.makeObjectNull(n._Object,{})};u.$on("indexSelected",function(i,r){n.editMode=!0;t.WebRebatePlanSelect({PlanId:r[1]}).success(function(t){n.modalOpen=!0;n.Items=[];n._Object=t[0];n._Object.flag="U";_.each(t,function(t){n.Items.push({MinPurchaseAmt:t.MinPurchaseAmt,SubSeqPurchaseAmt:t.SubSeqPurchaseAmt,SubSeqBillingAmt:t.SubSeqBillingAmt,LastUpdated:t.LastUpdated,isEdit:!1})});n.isEditMode=!0});console.log(r)});n.CreateNewItem=function(){n.Items.push({MinPurchaseAmt:null,SubSeqPurchaseAmt:null,SubSeqBillingAmt:null,LastUpdated:null,isEdit:!0})};n.finishEdit=function(n){n.isEdit=!1};n.removePrompt=function(t){n.deleteModalOpen=!0;n.selectedItem=t};n.removeItem=function(){var t=n.selectedItem;n.Items.splice(n.Items.indexOf(t),1);n.deleteModalOpen=!1};n.savePlan=function(){var i=n._Object,r,s,e,o;if(i.ProductItems=n.Items,r=!0,s=n._Object,!i.ProductItems.length)return r=!1,f.PNotify({flag:1,Descp:"Atleast one item required to fill"});if(e=_.find(i.ProductItems,function(n){return n.isEdit}),e)return r=!1,f.PNotify({flag:1,Descp:"Please save all items on the list"});if(o=_.find(i.ProductItems,function(n){return n.MinPurchaseAmt==null}),o)return r=!1,f.PNotify({flag:1,Descp:"Please make sure all product codes are filled"});f.InfoNotify();t.WebRebatePlanMaint({Params:i}).success(function(t){f.finalResultNotify(t);t.flag==0&&(n.modalOpen=!1,u.tables[n.dtOptions.id].fnDraw())})}}).controller("eventTypeListController",function(n,t,i,r,u,f){n.Items=[];n.isItemEdit=!1;n.dtOptions={serverSide:!0,processing:!0,destroy:!0,scrollX:!0,id:"tblEventTypeList",ajax:f.getRootUrl()+"/GlobalVariables/WebEventTypeListSelect",edit:{level:"scope",func:"indexSelected"}};n.detailModalOpen=!1;n.$on("indexSelected",function(t,i){r.path("/eventDetails/"+i[0]);n.$apply()})}).controller("eventDetailController",function(n,t,i,r,u,f,e){var c;n.Items=[];var o=null,l=[],s={},h={};n.getClass=function(t){var i=n.Items.indexOf(t),t=t};c=[{Value:"c",Text:"Current Cycle"},{Value:"s",Text:"Set checking period"}];n.mapper=e.getEventMap();i.getFormData({Code:"ev",id:u.id}).success(function(t){n._Object=t.Model[0];(n._Object.NotifyInd==1||n._Object.NotifyInd==3)&&(n._Object.NotifyIndEmail=!0);(n._Object.NotifyInd==2||n._Object.NotifyInd==3)&&(n._Object.NotifyIndSms=!0);n._Selects=t.Selects;n._Selects.PeriodType=c;n._Object.SelectedOccur=n._Object.MaxOccur>0?"S":"E";n.bitmapControls=[];_.each(t.Model,function(t,i){var r={MinIntVal:t.MinIntVal,MaxIntVal:t.MaxIntVal,MinMoneyVal:t.MinMoneyVal,MaxMoneyVal:t.MaxMoneyVal,MinDateVal:t.MinDateVal,MaxDateVal:t.MaxDateVal,MinTimeVal:t.MinTimeVal,MaxTimeVal:t.MaxTimeVal,VarCharVal:t.VarCharVal,PeriodType:t.PeriodType,PeriodInterval:t.PeriodInterval,BitmapAmt:t.BitmapAmt,id:i,EvtPlanDetailId:t.EvtPlanDetailId},f,u;r.SelectedOccur=r.PeriodInterval>0?"S":"C";r.BitmapAmt>0&&(f=e.findBinarySequence(r.BitmapAmt).sort(),u=[],_.each(f,function(t,i){var f=_.find(n.mapper,function(n){return n.id==t});f&&(f.key=i,f.val=r[f.type],u.push(f))}),n.bitmapControls.push(u),l=n.bitmapControls[0]);n.Items.push(r);o=r});WebEventTypeTemplateSelect(u.id)});WebEventTypeTemplateSelect=function(t){i.WebEventTypeTemplateSelect({EventTypeId:t}).success(function(t){n.templateDisplayer=t})};n.selectedOccurChanged=function(t){t=="E"?(n._Object.MaxOccur="-1",n._Object.SelectedFrequency=""):n._Object.MaxOccur=""};n.CreateNewItem=function(t){t.currentTarget.blur();n.isItemEdit=!1;var i=jQuery.extend({},o);e.makeObjectNull(i,{BitmapAmt:n.Items[n.Items.length-1].BitmapAmt,id:n.Items.length});n.Items.push(i);n.bitmapControls.push(jQuery.extend({key:n.bitmapControls.length-1},n.bitmapControls[n.bitmapControls.length-1]));n.selectedItem=n.Items.length-1;n.detailModalOpen=!0};n.finishEdit=function(){n.detailModalOpen=!1};n.cancelEdit=function(){n.isItemEdit?(n.Items[n.selectedItem]=s,n.bitmapControls[n.selectedItem]=h):(n.Items.splice(n.selectedItem,1),n.bitmapControls.splice(n.selectedItem,1));n.detailModalOpen=!1};n.toggleStatus=function(t){n._Object.SelectedStatus=t};n.editItem=function(t){n.isItemEdit=!0;var i=n.Items.indexOf(t);n.selectedItem=i;s=$.extend({},n.Items[i]);h=$.extend({},n.bitmapControls[i]);n.detailModalOpen=!0};n.intervalChanged=function(t){t=="C"&&(n.Items[n.selectedItem].PeriodInterval=0,n.Items[n.selectedItem].PeriodType="C")};n.removeItem=function(t){var i=n.Items.indexOf(t);n.itemtDeleteIndex=i;n.itemDeleteModalOpen=!0};n.confirmitemDelete=function(){n.Items.splice(n.itemtDeleteIndex,1);n.bitmapControls.splice(n.itemtDeleteIndex,1);n.itemDeleteModalOpen=!1};n.saveAll=function(){var r=n._Object,u;r.ProductItems=n.Items;u=0;r.NotifyIndEmail&&(u=1);r.NotifyIndSms&&(u+=2);r.NotifyInd=u;e.InfoNotify();i.WebEventTypeMaint(r).success(function(n){e.finalResultNotify(n);n.flag==0&&t.reload()})};n.containsBitmap=function(t,i){var r=n.bitmapControls[t],u=_.find(r,function(n){return n.id==i});return u?!0:!1}});
//# sourceMappingURL=globalvariables.min.js.map